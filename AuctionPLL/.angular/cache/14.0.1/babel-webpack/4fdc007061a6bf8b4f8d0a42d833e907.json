{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { CommonConstants } from 'src/app/common/constants/common-constants';\nimport { LoginComponent } from '../login/login.component';\nimport { ErrorMessages } from 'src/app/common/constants/error-messages';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/auth.service\";\nimport * as i2 from \"ngx-toastr\";\nimport * as i3 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\n\nfunction RegisterComponent_p_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 13);\n    i0.ɵɵtext(1, \" Email is required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_p_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 13);\n    i0.ɵɵtext(1, \" Incorect email\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_p_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 13);\n    i0.ɵɵtext(1, \" Password is required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_p_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 13);\n    i0.ɵɵtext(1, \" Min length 6\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_p_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 13);\n    i0.ɵɵtext(1, \" Name is required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_p_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 13);\n    i0.ɵɵtext(1, \" Only letters\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_p_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 13);\n    i0.ɵɵtext(1, \" Surname is required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction RegisterComponent_p_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 13);\n    i0.ɵɵtext(1, \" Only letters\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let RegisterComponent = /*#__PURE__*/(() => {\n  class RegisterComponent {\n    constructor(authService, toastrService, modalService, activeModal, formBuilder) {\n      this.authService = authService;\n      this.toastrService = toastrService;\n      this.modalService = modalService;\n      this.activeModal = activeModal;\n      this.formBuilder = formBuilder;\n      this.initRegisterForm();\n    }\n\n    ngOnInit() {}\n\n    initRegisterForm() {\n      this.registerForm = this.formBuilder.group({\n        email: [null, [Validators.required, Validators.email]],\n        password: [null, [Validators.required, Validators.minLength(6)]],\n        name: [null, [Validators.required, Validators.pattern('[a-zA-Z]*')]],\n        surname: [null, [Validators.required, Validators.pattern('[a-zA-Z]*')]]\n      });\n    }\n\n    register() {\n      const registerUser = {\n        email: this.registerForm.controls.email.value,\n        password: this.registerForm.controls.password.value,\n        role: CommonConstants.User,\n        name: this.registerForm.controls.name.value,\n        surname: this.registerForm.controls.surname.value,\n        clientURI: `${window.location.href.includes('https') ? 'https' : 'http'}://localhost:4200/auction/auth/emailconfirmation`\n      };\n      this.authService.register(registerUser).subscribe(_ => {\n        this.toastrService.info('You redirect to login page.');\n        this.openLoginForm();\n      }, _ => {\n        this.toastrService.error(ErrorMessages.Error);\n      });\n    }\n\n    openLoginForm() {\n      this.activeModal.close();\n      this.modalService.open(LoginComponent, {\n        animation: false\n      });\n    }\n\n    close() {\n      this.activeModal.close();\n    }\n\n  }\n\n  RegisterComponent.ɵfac = function RegisterComponent_Factory(t) {\n    return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.ToastrService), i0.ɵɵdirectiveInject(i3.NgbModal), i0.ɵɵdirectiveInject(i3.NgbActiveModal), i0.ɵɵdirectiveInject(i4.UntypedFormBuilder));\n  };\n\n  RegisterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RegisterComponent,\n    selectors: [[\"app-register\"]],\n    decls: 32,\n    vars: 10,\n    consts: [[1, \"register-form\"], [1, \"register-content\"], [\"title\", \"Close Modal\", 1, \"close\", 3, \"click\"], [1, \"container\", 3, \"formGroup\"], [1, \"has-tooltip\"], [\"type\", \"text\", \"placeholder\", \"Enter Email\", \"formControlName\", \"email\", \"email\", \"\"], [\"class\", \"tooltip\", 4, \"ngIf\"], [\"type\", \"password\", \"placeholder\", \"Enter Password\", \"formControlName\", \"password\"], [\"type\", \"text\", \"placeholder\", \"Enter Name\", \"formControlName\", \"name\"], [\"type\", \"text\", \"placeholder\", \"Enter Surname\", \"formControlName\", \"surname\"], [3, \"disabled\", \"click\"], [1, \"login-btn\"], [1, \"underline\", 3, \"click\"], [1, \"tooltip\"]],\n    template: function RegisterComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\")(3, \"span\", 2);\n        i0.ɵɵlistener(\"click\", function RegisterComponent_Template_span_click_3_listener() {\n          return ctx.close();\n        });\n        i0.ɵɵtext(4, \"\\u00D7\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(5, \"div\", 3)(6, \"p\");\n        i0.ɵɵtext(7, \"Sign up\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 4);\n        i0.ɵɵelement(9, \"input\", 5);\n        i0.ɵɵtemplate(10, RegisterComponent_p_10_Template, 2, 0, \"p\", 6);\n        i0.ɵɵtemplate(11, RegisterComponent_p_11_Template, 2, 0, \"p\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 4);\n        i0.ɵɵelement(13, \"input\", 7);\n        i0.ɵɵtemplate(14, RegisterComponent_p_14_Template, 2, 0, \"p\", 6);\n        i0.ɵɵtemplate(15, RegisterComponent_p_15_Template, 2, 0, \"p\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"div\", 4);\n        i0.ɵɵelement(17, \"input\", 8);\n        i0.ɵɵtemplate(18, RegisterComponent_p_18_Template, 2, 0, \"p\", 6);\n        i0.ɵɵtemplate(19, RegisterComponent_p_19_Template, 2, 0, \"p\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"div\", 4);\n        i0.ɵɵelement(21, \"input\", 9);\n        i0.ɵɵtemplate(22, RegisterComponent_p_22_Template, 2, 0, \"p\", 6);\n        i0.ɵɵtemplate(23, RegisterComponent_p_23_Template, 2, 0, \"p\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"button\", 10);\n        i0.ɵɵlistener(\"click\", function RegisterComponent_Template_button_click_24_listener() {\n          return ctx.register();\n        });\n        i0.ɵɵtext(25, \"Register\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(26, \"div\", 11)(27, \"p\");\n        i0.ɵɵtext(28, \"Already have an account? \");\n        i0.ɵɵelementStart(29, \"button\", 12);\n        i0.ɵɵlistener(\"click\", function RegisterComponent_Template_button_click_29_listener() {\n          return ctx.openLoginForm();\n        });\n        i0.ɵɵelementStart(30, \"p\");\n        i0.ɵɵtext(31, \"Sign in here\");\n        i0.ɵɵelementEnd()()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"formGroup\", ctx.registerForm);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", (ctx.registerForm.controls.email.errors == null ? null : ctx.registerForm.controls.email.errors.required) && ctx.registerForm.controls.email.touched);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (ctx.registerForm.controls.email.errors == null ? null : ctx.registerForm.controls.email.errors.email) && ctx.registerForm.controls.email.touched);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", (ctx.registerForm.controls.password.errors == null ? null : ctx.registerForm.controls.password.errors.required) && ctx.registerForm.controls.password.touched);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (ctx.registerForm.controls.password.errors == null ? null : ctx.registerForm.controls.password.errors.minlength) && ctx.registerForm.controls.password.touched);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", (ctx.registerForm.controls.name.errors == null ? null : ctx.registerForm.controls.name.errors.required) && ctx.registerForm.controls.name.touched);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (ctx.registerForm.controls.name.errors == null ? null : ctx.registerForm.controls.name.errors.pattern) && ctx.registerForm.controls.name.touched);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", (ctx.registerForm.controls.surname.errors == null ? null : ctx.registerForm.controls.surname.errors.required) && ctx.registerForm.controls.surname.touched);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (ctx.registerForm.controls.surname.errors == null ? null : ctx.registerForm.controls.surname.errors.pattern) && ctx.registerForm.controls.surname.touched);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", ctx.registerForm.invalid);\n      }\n    },\n    dependencies: [i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.EmailValidator, i5.NgIf, i4.FormGroupDirective, i4.FormControlName],\n    styles: [\"[_nghost-%COMP%]   body[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box;outline:none}[_nghost-%COMP%]   .register-form[_ngcontent-%COMP%]{margin:0 auto;justify-content:center;text-align:center;align-items:center;position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:#0006;padding-top:60px}[_nghost-%COMP%]   .register-form[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:5% auto 15%;border:1px solid #888;width:30%;border-radius:40px}[_nghost-%COMP%]   .register-form[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:relative;float:right;top:0;color:#000;font-size:35px;font-weight:700;margin-top:13px;margin-right:20px}[_nghost-%COMP%]   .register-form[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .register-form[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:focus{color:red;cursor:pointer}[_nghost-%COMP%]   .register-form[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:30px}[_nghost-%COMP%]   .register-form[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:35px;font-weight:600}[_nghost-%COMP%]   .register-form[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], [_nghost-%COMP%]   .register-form[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{padding:12px 20px;margin:8px auto;display:inline-block;border:1px solid #ccc;box-sizing:border-box}[_nghost-%COMP%]   .register-form[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   input[type=text].ng-touched.ng-invalid[_ngcontent-%COMP%], [_nghost-%COMP%]   .register-form[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   input[type=password].ng-touched.ng-invalid[_ngcontent-%COMP%]{border:solid red 2px}[_nghost-%COMP%]   .register-form[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   input[type=text].ng-touched.ng-valid[_ngcontent-%COMP%], [_nghost-%COMP%]   .register-form[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   input[type=password].ng-touched.ng-valid[_ngcontent-%COMP%]{border:solid green 2px}[_nghost-%COMP%]   .register-form[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], [_nghost-%COMP%]   .register-form[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%], [_nghost-%COMP%]   .register-form[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:80%;font-size:18px;border-radius:30px}[_nghost-%COMP%]   .register-form[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .has-tooltip[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .register-form[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .has-tooltip[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]{text-align:center;font-size:16px;position:absolute;top:0%;left:50%;transform:translate(-50%);background-color:#292929;color:#fff;padding:4px 6px;border-radius:4px;width:max-content;opacity:0;visibility:hidden}[_nghost-%COMP%]   .register-form[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .has-tooltip[_ngcontent-%COMP%]:where(:hover, [_ngcontent-%COMP%]:focus-within) > .tooltip[_ngcontent-%COMP%]{opacity:1;visibility:visible}[_nghost-%COMP%]   .register-form[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#04aa6d;color:#fff;padding:14px 20px;margin:8px 0;border:none;cursor:pointer}[_nghost-%COMP%]   .register-form[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.8;border-radius:30px}[_nghost-%COMP%]   .register-form[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]{font-size:18px}[_nghost-%COMP%]   .register-form[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;width:auto;background:none;color:#000}[_nghost-%COMP%]   .register-form[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{width:auto;background:none;color:#000}[_nghost-%COMP%]   .register-form[_ngcontent-%COMP%]   .register-content[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-decoration:underline}\"]\n  });\n  return RegisterComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}